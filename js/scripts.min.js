$(document).ready(function () {

    /***************** Waypoints ******************/

    $('.wp1').waypoint(function () {
        $('.wp1').addClass('animated fadeInLeft');
    }, {
        offset: '75%'
    });
    $('.wp2').waypoint(function () {
        $('.wp2').addClass('animated fadeInRight');
    }, {
        offset: '75%'
    });
    $('.wp3').waypoint(function () {
        $('.wp3').addClass('animated fadeInLeft');
    }, {
        offset: '75%'
    });
    $('.wp4').waypoint(function () {
        $('.wp4').addClass('animated fadeInRight');
    }, {
        offset: '75%'
    });
    $('.wp5').waypoint(function () {
        $('.wp5').addClass('animated fadeInLeft');
    }, {
        offset: '75%'
    });
    $('.wp6').waypoint(function () {
        $('.wp6').addClass('animated fadeInRight');
    }, {
        offset: '75%'
    });
    $('.wp7').waypoint(function () {
        $('.wp7').addClass('animated fadeInUp');
    }, {
        offset: '75%'
    });
    $('.wp8').waypoint(function () {
        $('.wp8').addClass('animated fadeInLeft');
    }, {
        offset: '75%'
    });
    $('.wp9').waypoint(function () {
        $('.wp9').addClass('animated fadeInRight');
    }, {
        offset: '75%'
    });

    /***************** Initiate Flexslider ******************/
    $('.flexslider').flexslider({
        animation: "slide"
    });

    /***************** Initiate Fancybox ******************/

    $('.single_image').fancybox({
        padding: 4
    });

    $('.fancybox').fancybox({
        padding: 4,
        width: 1000,
        height: 800
    });

    /***************** Tooltips ******************/
    $('[data-toggle="tooltip"]').tooltip();

    /***************** Nav Transformicon ******************/

    /* When user clicks the Icon */
    $('.nav-toggle').click(function () {
        $(this).toggleClass('active');
        $('.header-nav').toggleClass('open');
        event.preventDefault();
    });
    /* When user clicks a link */
    $('.header-nav li a').click(function () {
        $('.nav-toggle').toggleClass('active');
        $('.header-nav').toggleClass('open');

    });

    /***************** Header BG Scroll ******************/

    $(function () {
        $(window).scroll(function () {
            var scroll = $(window).scrollTop();

            if (scroll >= 20) {
                $('section.navigation').addClass('fixed');
                $('header').css({
                    "border-bottom": "none",
                    "padding": "35px 0"
                });
                $('header .member-actions').css({
                    "top": "26px",
                });
                $('header .navicon').css({
                    "top": "34px",
                });
            } else {
                $('section.navigation').removeClass('fixed');
                $('header').css({
                    "border-bottom": "solid 1px rgba(255, 255, 255, 0.2)",
                    "padding": "50px 0"
                });
                $('header .member-actions').css({
                    "top": "41px",
                });
                $('header .navicon').css({
                    "top": "48px",
                });
            }
        });
    });
    /***************** Smooth Scrolling ******************/

    $(function () {

        $('a[href*=#]:not([href=#])').click(function () {
            if (location.pathname.replace(/^\//, '') === this.pathname.replace(/^\//, '') && location.hostname === this.hostname) {

                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top - 90
                    }, 2000);
                    return false;
                }
            }
        });

    });

    /********************** Social Share buttons ***********************/
    var share_bar = document.getElementsByClassName('share-bar');
    var po = document.createElement('script');
    po.type = 'text/javascript';
    po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);

    for (var i = 0; i < share_bar.length; i++) {
        var html = '<iframe allowtransparency="true" frameborder="0" scrolling="no"' +
            'src="https://platform.twitter.com/widgets/tweet_button.html?url=' + encodeURIComponent(window.location) + '&amp;text=' + encodeURIComponent(document.title) + '&amp;via=ramswarooppatra&amp;hashtags=ramandantara&amp;count=horizontal"' +
            'style="width:105px; height:21px;">' +
            '</iframe>' +

            '<iframe src="//www.facebook.com/plugins/like.php?href=' + encodeURIComponent(window.location) + '&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=true&amp;height=21&amp;appId=101094500229731&amp;width=150" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:150px; height:21px;" allowTransparency="true"></iframe>' +

            '<div class="g-plusone" data-size="medium"></div>';

        // '<iframe src="https://plusone.google.com/_/+1/fastbutton?bsv&amp;size=medium&amp;url=' + encodeURIComponent(window.location) + '" allowtransparency="true" frameborder="0" scrolling="no" title="+1" style="width:105px; height:21px;"></iframe>';

        share_bar[i].innerHTML = html;
        share_bar[i].style.display = 'inline-block';
    }

    /********************** Embed youtube video *********************/
    $('.player').YTPlayer();


    /********************** Toggle Map Content **********************/
    $('#btn-show-map').click(function () {
        $('#map-content').toggleClass('toggle-map-content');
        $('#btn-show-content').toggleClass('toggle-map-content');
    });
    $('#btn-show-content').click(function () {
        $('#map-content').toggleClass('toggle-map-content');
        $('#btn-show-content').toggleClass('toggle-map-content');
    });

    /********************** Add to Calendar **********************/
    var myCalendar = createCalendar({
        options: {
            class: '',
            // You can pass an ID. If you don't, one will be generated for you
            id: ''
        },
        data: {
            // Event title
            title: "Jeremy and Hanh's Wedding",

            // Event start date
            start: new Date('Mar 19, 2022 11:00'),

            // Event duration (IN MINUTES)
            // duration: 120,

            // You can also choose to set an end time
            // If an end time is set, this will take precedence over duration
            end: new Date('Nov 29, 2017 00:00'),

            // Event Address
            address: 'Five Wound Church and NestlDown',

            // Event Description
            description: "We can't wait to see you on our big day. For any queries or issues, please contact Mr. Jeremy Kwong, +1-510-378-2045."
        }
    });

    $('#add-to-cal').html(myCalendar);

    $('#invite_code').keyup(function (e) {
        var dict = {
            "2f521a1f5672da360c664d07f300dfe3": "1",
            "fdc0e989b00b668ec8cbb2b1a6b3bfed": "2",
            "ed9d9dfab38400d73cdf920a234260b1": "6",
            "d37a58206127765c87314e7df90a0f0f": "5",
            "82c67bdc0bad0f7c8a4fbfcdc54b3af7": "2",
            "c8654b8a072c2affbd9f4643a5f52b16": "6",
            "2061b25a53d3ebe733014c070232414b": "5",
            "484a36c0a42161d8d28e9917b97d602a": "0",
            "931f90e282094901bb3fd2cefd194bd9": "1",
            "200d143d8b7e56c825a1ab16b66bbd8e": "1",
            "4cefe1b3c6c9d9a2a9409aedfbc83c16": "1",
            "8db4e293105e4c4ab83ba015d1c010e1": "1",
            "8e2ad0e2d21215983e88870948d83571": "2",
            "b51272cd4a9e782c697a6e1c45b0abf9": "2",
            "f96f6d654310abf979ce43a2ce37432a": "2",
            "9af88b75c3db4b6dcc10ef7d0cd6f08b": "2",
            "040431ac4518e1ae85a1551a59238437": "5",
            "8d21c5edfed88009f92b2d9ab629af6a": "1",
            "4964367bc254ff6122afa217273d5aa8": "1",
            "f3d8d4d6f016498aaf5dad15947227e4": "1",
            "6b351d04ad464329e563540c729dfaff": "0",
            "5ddbad7344c631da7cedbb9e3d6fb697": "0",
            "4e92f995d8fcfc5730ce82c4c42904de": "3",
            "69c98c804871171d4ab5e61f63b4d6da": "1",
            "9b90832a04940ce028b5e22912f596a3": "1",
            "c26f5d8eaa34757af1438277045df0ba": "1",
            "05ce2e8d1e6a74a1eadfb25bb52e9865": "2",
            "8a18824e5977020a5a4fed0b29d79c1e": "2",
            "1b69a7329e761fd57559c1310c170fdf": "2",
            "e415a23f577922552ebce92e8e4817e8": "1",
            "8e393612177335ff9bdbb87702c23939": "2",
            "97fa2e762141ea64bfd269e7a7b04c62": "2",
            "ebf0d5821b804681241c1fb0ce8c0e2e": "2",
            "ab56df709f1647d62f687cef188c1a47": "0",
            "3d6564a910dde66ffdfb67c92207eab0": "4",
            "1afe5991215ef8e7347355a37ff993bb": "1",
            "b3144e31a692907bc4eb3fbdd1e61eeb": "1",
            "e5d8a59907b7dd65f4d405ee1b87a9a2": "0",
            "1862460afee5f257f07edb1678a0c67a": "1",
            "179c7c473e21cc7968a6cd395c260b21": "1",
            "b06f9b9c5a90d71b784120680648e995": "1",
            "0b7d53082998a8afb3285a977ebf265d": "1",
            "bd6217374124f471c9cc6d15e915a891": "1",
            "1d1369f6648224f8d8453d9b98d00b0d": "1",
            "fb9a5a44e66c90d520f46881ddc009cb": "1",
            "7b47ec4fe635e024c2963f9facd54d30": "1",
            "c5ecfd972574108029755a20e4581cca": "2",
            "31aa85dd03e401d323f8477c5b3b9ada": "2",
            "27a873661b725077cd3a5f474fa59f99": "2",
            "143cec05d5fff1be4d8ebff10e3fbce2": "2",
            "b57b231e621c1ce17b65895604cc70bb": "2",
            "2ad95fce115e3fbd68f5f1abadcfbac6": "2",
            "d65da440138f319b4b04e5ce5726aec6": "2",
            "3d56be6c8bfa00a29a2eab113fd107a3": "2",
            "fc9a65e45ea15397b9f293f46561f8ba": "4",
            "ba7d1c7382a2c6f70b459cf85041424a": "2",
            "1a26922dde7e5771ddc56c2400d4fe40": "1",
            "cf289a8edc966f7b5f06c1b0a96ea3e7": "2",
            "607a796dd49c9bc2d021539381f57cc8": "2",
            "2648ee927bd926009edb4d976ba82172": "2",
            "a0a27dd6f7d8074401e9412d83e95f97": "2",
            "cf8406b78ecdda703e0f3be376b6cd95": "2",
            "39332e5223cb8fb01dfbc3e28de5f756": "1",
            "69cf6411c7b6f91d80acd878fce9bde3": "2",
            "07f224f518420a608b54ebdcd7302cf0": "2",
            "d4bd51fe7655582c76a8bf0f604316a0": "2",
            "f794530be4cb7c2d29af0a274f77b06c": "2",
            "f1dd437d9daa87b91b024153e4e4739f": "2",
            "b06798536e8d31ae22b29da4053fe034": "2",
            "6c93a7ed417f0b3f8f6a1b8fbf0e43f2": "2",
            "83aa189b6d1ef0d743824e2ff66b6f87": "1",
            "26e395daa7d4c0c720c9ce39412d32fd": "1",
            "fc567170b0fcd093c0fdebc0c764c4bb": "1",
            "564fd717235581601056992c6afde065": "1",
            "6ec0aeb0d05139c2f141c7c11731b5c3": "2",
            "bd3054fe5383d1ef320ac1a35cf4401a": "1",
            "e903d55d871caf5340138a56b6dfec72": "2",
            "bca7607571a25624b7a2e9d05617c1ce": "2",
            "fad3a16a9f85b1cf125e350005bf9ec0": "2",
            "767db8dce0b64bad3f501527cdb451aa": "1",
            "a2c568ab214ca5ef76db89c9eeb25bf9": "2",
            "5edecdaf136b45bcb9efbd09a5974bb9": "4",
            "0b4ddfdf698e10a25791f9949e647345": "2",
            "0f9ce8d30216655c2bba2758b61ceda3": "2",
            "a26e0125747da26d13e4965a0c448647": "2",
            "c7767359079546cb2ba64f11f0a66cf4": "2",
            "368c4c3c31039d56406be18f746aefb4": "2",
            "71ab18eeae2161e04c3b688caaf5a887": "1"
         };

        if (MD5($('#invite_code').val()) == '2f521a1f5672da360c664d07f300dfe3'
        || MD5($('#invite_code').val()) == 'fdc0e989b00b668ec8cbb2b1a6b3bfed'
        || MD5($('#invite_code').val()) == 'ed9d9dfab38400d73cdf920a234260b1'
        || MD5($('#invite_code').val()) == 'd37a58206127765c87314e7df90a0f0f'
        || MD5($('#invite_code').val()) == '82c67bdc0bad0f7c8a4fbfcdc54b3af7'
        || MD5($('#invite_code').val()) == 'c8654b8a072c2affbd9f4643a5f52b16'
        || MD5($('#invite_code').val()) == '2061b25a53d3ebe733014c070232414b'
        || MD5($('#invite_code').val()) == '484a36c0a42161d8d28e9917b97d602a'
        || MD5($('#invite_code').val()) == '931f90e282094901bb3fd2cefd194bd9'
        || MD5($('#invite_code').val()) == '200d143d8b7e56c825a1ab16b66bbd8e'
        || MD5($('#invite_code').val()) == '4cefe1b3c6c9d9a2a9409aedfbc83c16'
        || MD5($('#invite_code').val()) == '8db4e293105e4c4ab83ba015d1c010e1'
        || MD5($('#invite_code').val()) == '8e2ad0e2d21215983e88870948d83571'
        || MD5($('#invite_code').val()) == 'b51272cd4a9e782c697a6e1c45b0abf9'
        || MD5($('#invite_code').val()) == 'f96f6d654310abf979ce43a2ce37432a'
        || MD5($('#invite_code').val()) == '9af88b75c3db4b6dcc10ef7d0cd6f08b'
        || MD5($('#invite_code').val()) == '040431ac4518e1ae85a1551a59238437'
        || MD5($('#invite_code').val()) == '8d21c5edfed88009f92b2d9ab629af6a'
        || MD5($('#invite_code').val()) == '4964367bc254ff6122afa217273d5aa8'
        || MD5($('#invite_code').val()) == 'f3d8d4d6f016498aaf5dad15947227e4'
        || MD5($('#invite_code').val()) == '6b351d04ad464329e563540c729dfaff'
        || MD5($('#invite_code').val()) == '5ddbad7344c631da7cedbb9e3d6fb697'
        || MD5($('#invite_code').val()) == '4e92f995d8fcfc5730ce82c4c42904de'
        || MD5($('#invite_code').val()) == '69c98c804871171d4ab5e61f63b4d6da'
        || MD5($('#invite_code').val()) == '9b90832a04940ce028b5e22912f596a3'
        || MD5($('#invite_code').val()) == 'c26f5d8eaa34757af1438277045df0ba'
        || MD5($('#invite_code').val()) == '05ce2e8d1e6a74a1eadfb25bb52e9865'
        || MD5($('#invite_code').val()) == '8a18824e5977020a5a4fed0b29d79c1e'
        || MD5($('#invite_code').val()) == '1b69a7329e761fd57559c1310c170fdf'
        || MD5($('#invite_code').val()) == 'e415a23f577922552ebce92e8e4817e8'
        || MD5($('#invite_code').val()) == '8e393612177335ff9bdbb87702c23939'
        || MD5($('#invite_code').val()) == '97fa2e762141ea64bfd269e7a7b04c62'
        || MD5($('#invite_code').val()) == 'ebf0d5821b804681241c1fb0ce8c0e2e'
        || MD5($('#invite_code').val()) == 'ab56df709f1647d62f687cef188c1a47'
        || MD5($('#invite_code').val()) == '3d6564a910dde66ffdfb67c92207eab0'
        || MD5($('#invite_code').val()) == '1afe5991215ef8e7347355a37ff993bb'
        || MD5($('#invite_code').val()) == 'b3144e31a692907bc4eb3fbdd1e61eeb'
        || MD5($('#invite_code').val()) == 'e5d8a59907b7dd65f4d405ee1b87a9a2'
        || MD5($('#invite_code').val()) == '1862460afee5f257f07edb1678a0c67a'
        || MD5($('#invite_code').val()) == '179c7c473e21cc7968a6cd395c260b21'
        || MD5($('#invite_code').val()) == 'b06f9b9c5a90d71b784120680648e995'
        || MD5($('#invite_code').val()) == '0b7d53082998a8afb3285a977ebf265d'
        || MD5($('#invite_code').val()) == 'bd6217374124f471c9cc6d15e915a891'
        || MD5($('#invite_code').val()) == '1d1369f6648224f8d8453d9b98d00b0d'
        || MD5($('#invite_code').val()) == 'fb9a5a44e66c90d520f46881ddc009cb'
        || MD5($('#invite_code').val()) == '7b47ec4fe635e024c2963f9facd54d30'
        || MD5($('#invite_code').val()) == 'c5ecfd972574108029755a20e4581cca'
        || MD5($('#invite_code').val()) == '31aa85dd03e401d323f8477c5b3b9ada'
        || MD5($('#invite_code').val()) == '27a873661b725077cd3a5f474fa59f99'
        || MD5($('#invite_code').val()) == '143cec05d5fff1be4d8ebff10e3fbce2'
        || MD5($('#invite_code').val()) == 'b57b231e621c1ce17b65895604cc70bb'
        || MD5($('#invite_code').val()) == '2ad95fce115e3fbd68f5f1abadcfbac6'
        || MD5($('#invite_code').val()) == 'd65da440138f319b4b04e5ce5726aec6'
        || MD5($('#invite_code').val()) == '3d56be6c8bfa00a29a2eab113fd107a3'
        || MD5($('#invite_code').val()) == 'fc9a65e45ea15397b9f293f46561f8ba'
        || MD5($('#invite_code').val()) == 'ba7d1c7382a2c6f70b459cf85041424a'
        || MD5($('#invite_code').val()) == '1a26922dde7e5771ddc56c2400d4fe40'
        || MD5($('#invite_code').val()) == 'cf289a8edc966f7b5f06c1b0a96ea3e7'
        || MD5($('#invite_code').val()) == '607a796dd49c9bc2d021539381f57cc8'
        || MD5($('#invite_code').val()) == '2648ee927bd926009edb4d976ba82172'
        || MD5($('#invite_code').val()) == 'a0a27dd6f7d8074401e9412d83e95f97'
        || MD5($('#invite_code').val()) == 'cf8406b78ecdda703e0f3be376b6cd95'
        || MD5($('#invite_code').val()) == '39332e5223cb8fb01dfbc3e28de5f756'
        || MD5($('#invite_code').val()) == '69cf6411c7b6f91d80acd878fce9bde3'
        || MD5($('#invite_code').val()) == '07f224f518420a608b54ebdcd7302cf0'
        || MD5($('#invite_code').val()) == 'd4bd51fe7655582c76a8bf0f604316a0'
        || MD5($('#invite_code').val()) == 'f794530be4cb7c2d29af0a274f77b06c'
        || MD5($('#invite_code').val()) == 'f1dd437d9daa87b91b024153e4e4739f'
        || MD5($('#invite_code').val()) == 'b06798536e8d31ae22b29da4053fe034'
        || MD5($('#invite_code').val()) == '6c93a7ed417f0b3f8f6a1b8fbf0e43f2'
        || MD5($('#invite_code').val()) == '83aa189b6d1ef0d743824e2ff66b6f87'
        || MD5($('#invite_code').val()) == '26e395daa7d4c0c720c9ce39412d32fd'
        || MD5($('#invite_code').val()) == 'fc567170b0fcd093c0fdebc0c764c4bb'
        || MD5($('#invite_code').val()) == '564fd717235581601056992c6afde065'
        || MD5($('#invite_code').val()) == '6ec0aeb0d05139c2f141c7c11731b5c3'
        || MD5($('#invite_code').val()) == 'bd3054fe5383d1ef320ac1a35cf4401a'
        || MD5($('#invite_code').val()) == 'e903d55d871caf5340138a56b6dfec72'
        || MD5($('#invite_code').val()) == 'bca7607571a25624b7a2e9d05617c1ce'
        || MD5($('#invite_code').val()) == 'fad3a16a9f85b1cf125e350005bf9ec0'
        || MD5($('#invite_code').val()) == '767db8dce0b64bad3f501527cdb451aa'
        || MD5($('#invite_code').val()) == 'a2c568ab214ca5ef76db89c9eeb25bf9'
        || MD5($('#invite_code').val()) == '5edecdaf136b45bcb9efbd09a5974bb9'
        || MD5($('#invite_code').val()) == '0b4ddfdf698e10a25791f9949e647345'
        || MD5($('#invite_code').val()) == '0f9ce8d30216655c2bba2758b61ceda3'
        || MD5($('#invite_code').val()) == 'a26e0125747da26d13e4965a0c448647'
        || MD5($('#invite_code').val()) == 'c7767359079546cb2ba64f11f0a66cf4'
        || MD5($('#invite_code').val()) == '368c4c3c31039d56406be18f746aefb4'
        || MD5($('#invite_code').val()) == '71ab18eeae2161e04c3b688caaf5a887'
        || MD5($('#invite_code').val()) == '195fd3af2e2ac5a5b2c9da138b4b1452'
        || MD5($('#invite_code').val()) == 'c430309e49731ea296c9ae3078ef4d7e'
        || MD5($('#invite_code').val()) == '4b215598e5cbd0e5d3b05b5d92f61a2e'
        || MD5($('#invite_code').val()) == '4518aacaa20b8102833d577ecd66f340'
        || MD5($('#invite_code').val()) == 'f8654ed269d1194dd77d3397549ca63c'
        || MD5($('#invite_code').val()) == '138774ed612ab9b8a0c798714a0e1841'
        || MD5($('#invite_code').val()) == 'b74ea519c369d1eac3b613d461897902'
        || MD5($('#invite_code').val()) == '05aab7111dcd3a1cdf479d403bf69a43'
        || MD5($('#invite_code').val()) == '4115f3926b3232f630b02d6b16321c6f'
        || MD5($('#invite_code').val()) == '4d4c5a0eb963b93238e9e125082f7388'
        || MD5($('#invite_code').val()) == '1188f033c31a640dcf1654437b836cf1'
        || MD5($('#invite_code').val()) == 'ee904053c6904aab5add4f9f6696de19'
        || MD5($('#invite_code').val()) == '73f2c90480cb0f8e1345b0ef5a68c116'
        || MD5($('#invite_code').val()) == 'e4381500239879814b42807108b584b9'
        || MD5($('#invite_code').val()) == '62bbea2092cb4528ec48f13886aaf1e1'
        || MD5($('#invite_code').val()) == '01b4bc2e1d1f6c7544daf26ba35b04c4'
        || MD5($('#invite_code').val()) == '0f725351b7fa3c664ca6e89ed6d4c38d'
        || MD5($('#invite_code').val()) == 'ebbd0ad288ef7ea145e6c9b7e6eb75a7'
        || MD5($('#invite_code').val()) == 'c9eaa8635c11729c599d096ac5d7639a'
        || MD5($('#invite_code').val()) == 'ff84386b474e0841890a856fac6b7a16'
        || MD5($('#invite_code').val()) == 'c3145ea000840f97d4502495cb0ba45a'
        || MD5($('#invite_code').val()) == 'fc1a6195311d21201560296690457c03'
        || MD5($('#invite_code').val()) == 'bdd0b7b97835f97b8418a2212d1e1130'
        || MD5($('#invite_code').val()) == '5f8cd15c14ade462f4c5ae8e15710b4a'
        || MD5($('#invite_code').val()) == 'b0dcd872221e38142538c0425d520045'
        || MD5($('#invite_code').val()) == '943ce38672cd8251649cdcbecb96a1d1'
        || MD5($('#invite_code').val()) == '56719bfbcf8a306c076f93b08de1a48a'
        || MD5($('#invite_code').val()) == '7bad472faa2790ae81dcfbc1dee4ce63'
        || MD5($('#invite_code').val()) == 'f038bd5be0bfdef4da2b754ca7eafc12'
        || MD5($('#invite_code').val()) == '837f5ac6ce9c561afa9479ecabcc0c16'
        || MD5($('#invite_code').val()) == '5021ffa35936c32a0527ed25b3fc00ad'
        || MD5($('#invite_code').val()) == '28789a166f018ae8bd24b1bca127e347'
        || MD5($('#invite_code').val()) == '4f51fcd71f883fffc58144b50d7769ec'
        || MD5($('#invite_code').val()) == 'bea28de6d39b23cd6f9838dfd64ef71c'
        || MD5($('#invite_code').val()) == 'c2c94fbc61a9b54f343daeb0a3f33e7d'
        || MD5($('#invite_code').val()) == 'f633bbfc12522677b060588e42c8e147'
        || MD5($('#invite_code').val()) == '823b88af813025d70d421ce87ba61756'
        || MD5($('#invite_code').val()) == '3a123a231c33a415f750e57e38401af5'
        || MD5($('#invite_code').val()) == 'b58ca2ad010dd8fab079eddc1e60cd0e'
        || MD5($('#invite_code').val()) == 'caa774678c1309c9fd331694ce2e21f2'
        || MD5($('#invite_code').val()) == 'ab4c51ee0d5a1b57e9627c32b22a4898'
        || MD5($('#invite_code').val()) == 'cd90b19ce8ca77b90f89084516008d5c'
        || MD5($('#invite_code').val()) == '24d7a5e499a8a26d06479ddb1048bc3d'
        || MD5($('#invite_code').val()) == 'dbeec860616d23efd416c098af6d3b4c'
        || MD5($('#invite_code').val()) == '4077c182260f91e19eebf265e957c98f'
        || MD5($('#invite_code').val()) == 'e064f1ffc0b3b65b1d4a651d32876f85'
        || MD5($('#invite_code').val()) == '908695ed0d1a93357b80fd3a6508255f'
        || MD5($('#invite_code').val()) == '55706240eb1023f0d25cc8b87b43ac7e'
        || MD5($('#invite_code').val()) == '8b24d24121ff1edec8d549b0f6dec30a'
        || MD5($('#invite_code').val()) == '25d18445a89d83a1df73a9d81499ecbb'
        || MD5($('#invite_code').val()) == 'd4f1db629df1566793569dcc92b04782'
        || MD5($('#invite_code').val()) == '608cead74bd9ebbe34fe051b02b1b80f'
        || MD5($('#invite_code').val()) == '4073f2bcd397052ebd8b153aaaef2368'
        || MD5($('#invite_code').val()) == 'd3c560a199ffc848c8d38d0b98c6482e'
        || MD5($('#invite_code').val()) == 'dc0856e04128c30e294c22441b3c7fd5'
        || MD5($('#invite_code').val()) == '02981ca2a8f3b4db41d6eb49193f207f'
        || MD5($('#invite_code').val()) == '39827a7cd9a49bd01209ac04f5e598e9'
        || MD5($('#invite_code').val()) == 'f21d4363d737aa0494d70b390cff554d'
        || MD5($('#invite_code').val()) == 'dff60334d389356f4697c4ddac2f1a47'
        || MD5($('#invite_code').val()) == 'c0f59798bda866d1969d96014aded109'
        || MD5($('#invite_code').val()) == '3b612490a8ad8bad4f8d3c7e45333922') {
            var getProperty = function (propertyName) {
                return dict[propertyName];
            };            
            var lookup = getProperty(MD5($('#invite_code').val()));
            for (var i = 1; i <= parseInt(lookup); i++) {
                console.log(i);
                $("#extras").append(
                    $('<option></option>').val(i).html(i)
                 );
            }
        } else {
            $('#extras').empty();
        }
    });     

    /********************** RSVP **********************/
    $('#rsvp-form').on('submit', function (e) {
        e.preventDefault();
        var data = $(this).serialize();
        $('#alert-wrapper').html(alert_markup('info', '<strong>Just a sec!</strong> We are saving your details.'));

        if (MD5($('#invite_code').val()) !== '2f521a1f5672da360c664d07f300dfe3'
        && MD5($('#invite_code').val()) !== 'fdc0e989b00b668ec8cbb2b1a6b3bfed'
        && MD5($('#invite_code').val()) !== 'ed9d9dfab38400d73cdf920a234260b1'
        && MD5($('#invite_code').val()) !== 'd37a58206127765c87314e7df90a0f0f'
        && MD5($('#invite_code').val()) !== '82c67bdc0bad0f7c8a4fbfcdc54b3af7'
        && MD5($('#invite_code').val()) !== 'c8654b8a072c2affbd9f4643a5f52b16'
        && MD5($('#invite_code').val()) !== '2061b25a53d3ebe733014c070232414b'
        && MD5($('#invite_code').val()) !== '484a36c0a42161d8d28e9917b97d602a'
        && MD5($('#invite_code').val()) !== '931f90e282094901bb3fd2cefd194bd9'
        && MD5($('#invite_code').val()) !== '200d143d8b7e56c825a1ab16b66bbd8e'
        && MD5($('#invite_code').val()) !== '4cefe1b3c6c9d9a2a9409aedfbc83c16'
        && MD5($('#invite_code').val()) !== '8db4e293105e4c4ab83ba015d1c010e1'
        && MD5($('#invite_code').val()) !== '8e2ad0e2d21215983e88870948d83571'
        && MD5($('#invite_code').val()) !== 'b51272cd4a9e782c697a6e1c45b0abf9'
        && MD5($('#invite_code').val()) !== 'f96f6d654310abf979ce43a2ce37432a'
        && MD5($('#invite_code').val()) !== '9af88b75c3db4b6dcc10ef7d0cd6f08b'
        && MD5($('#invite_code').val()) !== '040431ac4518e1ae85a1551a59238437'
        && MD5($('#invite_code').val()) !== '8d21c5edfed88009f92b2d9ab629af6a'
        && MD5($('#invite_code').val()) !== '4964367bc254ff6122afa217273d5aa8'
        && MD5($('#invite_code').val()) !== 'f3d8d4d6f016498aaf5dad15947227e4'
        && MD5($('#invite_code').val()) !== '6b351d04ad464329e563540c729dfaff'
        && MD5($('#invite_code').val()) !== '5ddbad7344c631da7cedbb9e3d6fb697'
        && MD5($('#invite_code').val()) !== '4e92f995d8fcfc5730ce82c4c42904de'
        && MD5($('#invite_code').val()) !== '69c98c804871171d4ab5e61f63b4d6da'
        && MD5($('#invite_code').val()) !== '9b90832a04940ce028b5e22912f596a3'
        && MD5($('#invite_code').val()) !== 'c26f5d8eaa34757af1438277045df0ba'
        && MD5($('#invite_code').val()) !== '05ce2e8d1e6a74a1eadfb25bb52e9865'
        && MD5($('#invite_code').val()) !== '8a18824e5977020a5a4fed0b29d79c1e'
        && MD5($('#invite_code').val()) !== '1b69a7329e761fd57559c1310c170fdf'
        && MD5($('#invite_code').val()) !== 'e415a23f577922552ebce92e8e4817e8'
        && MD5($('#invite_code').val()) !== '8e393612177335ff9bdbb87702c23939'
        && MD5($('#invite_code').val()) !== '97fa2e762141ea64bfd269e7a7b04c62'
        && MD5($('#invite_code').val()) !== 'ebf0d5821b804681241c1fb0ce8c0e2e'
        && MD5($('#invite_code').val()) !== 'ab56df709f1647d62f687cef188c1a47'
        && MD5($('#invite_code').val()) !== '3d6564a910dde66ffdfb67c92207eab0'
        && MD5($('#invite_code').val()) !== '1afe5991215ef8e7347355a37ff993bb'
        && MD5($('#invite_code').val()) !== 'b3144e31a692907bc4eb3fbdd1e61eeb'
        && MD5($('#invite_code').val()) !== 'e5d8a59907b7dd65f4d405ee1b87a9a2'
        && MD5($('#invite_code').val()) !== '1862460afee5f257f07edb1678a0c67a'
        && MD5($('#invite_code').val()) !== '179c7c473e21cc7968a6cd395c260b21'
        && MD5($('#invite_code').val()) !== 'b06f9b9c5a90d71b784120680648e995'
        && MD5($('#invite_code').val()) !== '0b7d53082998a8afb3285a977ebf265d'
        && MD5($('#invite_code').val()) !== 'bd6217374124f471c9cc6d15e915a891'
        && MD5($('#invite_code').val()) !== '1d1369f6648224f8d8453d9b98d00b0d'
        && MD5($('#invite_code').val()) !== 'fb9a5a44e66c90d520f46881ddc009cb'
        && MD5($('#invite_code').val()) !== '7b47ec4fe635e024c2963f9facd54d30'
        && MD5($('#invite_code').val()) !== 'c5ecfd972574108029755a20e4581cca'
        && MD5($('#invite_code').val()) !== '31aa85dd03e401d323f8477c5b3b9ada'
        && MD5($('#invite_code').val()) !== '27a873661b725077cd3a5f474fa59f99'
        && MD5($('#invite_code').val()) !== '143cec05d5fff1be4d8ebff10e3fbce2'
        && MD5($('#invite_code').val()) !== 'b57b231e621c1ce17b65895604cc70bb'
        && MD5($('#invite_code').val()) !== '2ad95fce115e3fbd68f5f1abadcfbac6'
        && MD5($('#invite_code').val()) !== 'd65da440138f319b4b04e5ce5726aec6'
        && MD5($('#invite_code').val()) !== '3d56be6c8bfa00a29a2eab113fd107a3'
        && MD5($('#invite_code').val()) !== 'fc9a65e45ea15397b9f293f46561f8ba'
        && MD5($('#invite_code').val()) !== 'ba7d1c7382a2c6f70b459cf85041424a'
        && MD5($('#invite_code').val()) !== '1a26922dde7e5771ddc56c2400d4fe40'
        && MD5($('#invite_code').val()) !== 'cf289a8edc966f7b5f06c1b0a96ea3e7'
        && MD5($('#invite_code').val()) !== '607a796dd49c9bc2d021539381f57cc8'
        && MD5($('#invite_code').val()) !== '2648ee927bd926009edb4d976ba82172'
        && MD5($('#invite_code').val()) !== 'a0a27dd6f7d8074401e9412d83e95f97'
        && MD5($('#invite_code').val()) !== 'cf8406b78ecdda703e0f3be376b6cd95'
        && MD5($('#invite_code').val()) !== '39332e5223cb8fb01dfbc3e28de5f756'
        && MD5($('#invite_code').val()) !== '69cf6411c7b6f91d80acd878fce9bde3'
        && MD5($('#invite_code').val()) !== '07f224f518420a608b54ebdcd7302cf0'
        && MD5($('#invite_code').val()) !== 'd4bd51fe7655582c76a8bf0f604316a0'
        && MD5($('#invite_code').val()) !== 'f794530be4cb7c2d29af0a274f77b06c'
        && MD5($('#invite_code').val()) !== 'f1dd437d9daa87b91b024153e4e4739f'
        && MD5($('#invite_code').val()) !== 'b06798536e8d31ae22b29da4053fe034'
        && MD5($('#invite_code').val()) !== '6c93a7ed417f0b3f8f6a1b8fbf0e43f2'
        && MD5($('#invite_code').val()) !== '83aa189b6d1ef0d743824e2ff66b6f87'
        && MD5($('#invite_code').val()) !== '26e395daa7d4c0c720c9ce39412d32fd'
        && MD5($('#invite_code').val()) !== 'fc567170b0fcd093c0fdebc0c764c4bb'
        && MD5($('#invite_code').val()) !== '564fd717235581601056992c6afde065'
        && MD5($('#invite_code').val()) !== '6ec0aeb0d05139c2f141c7c11731b5c3'
        && MD5($('#invite_code').val()) !== 'bd3054fe5383d1ef320ac1a35cf4401a'
        && MD5($('#invite_code').val()) !== 'e903d55d871caf5340138a56b6dfec72'
        && MD5($('#invite_code').val()) !== 'bca7607571a25624b7a2e9d05617c1ce'
        && MD5($('#invite_code').val()) !== 'fad3a16a9f85b1cf125e350005bf9ec0'
        && MD5($('#invite_code').val()) !== '767db8dce0b64bad3f501527cdb451aa'
        && MD5($('#invite_code').val()) !== 'a2c568ab214ca5ef76db89c9eeb25bf9'
        && MD5($('#invite_code').val()) !== '5edecdaf136b45bcb9efbd09a5974bb9'
        && MD5($('#invite_code').val()) !== '0b4ddfdf698e10a25791f9949e647345'
        && MD5($('#invite_code').val()) !== '0f9ce8d30216655c2bba2758b61ceda3'
        && MD5($('#invite_code').val()) !== 'a26e0125747da26d13e4965a0c448647'
        && MD5($('#invite_code').val()) !== 'c7767359079546cb2ba64f11f0a66cf4'
        && MD5($('#invite_code').val()) !== '368c4c3c31039d56406be18f746aefb4'
        && MD5($('#invite_code').val()) !== '71ab18eeae2161e04c3b688caaf5a887'
        && MD5($('#invite_code').val()) !== '195fd3af2e2ac5a5b2c9da138b4b1452'
        && MD5($('#invite_code').val()) !== 'c430309e49731ea296c9ae3078ef4d7e'
        && MD5($('#invite_code').val()) !== '4b215598e5cbd0e5d3b05b5d92f61a2e'
        && MD5($('#invite_code').val()) !== '4518aacaa20b8102833d577ecd66f340'
        && MD5($('#invite_code').val()) !== 'f8654ed269d1194dd77d3397549ca63c'
        && MD5($('#invite_code').val()) !== '138774ed612ab9b8a0c798714a0e1841'
        && MD5($('#invite_code').val()) !== 'b74ea519c369d1eac3b613d461897902'
        && MD5($('#invite_code').val()) !== '05aab7111dcd3a1cdf479d403bf69a43'
        && MD5($('#invite_code').val()) !== '4115f3926b3232f630b02d6b16321c6f'
        && MD5($('#invite_code').val()) !== '4d4c5a0eb963b93238e9e125082f7388'
        && MD5($('#invite_code').val()) !== '1188f033c31a640dcf1654437b836cf1'
        && MD5($('#invite_code').val()) !== 'ee904053c6904aab5add4f9f6696de19'
        && MD5($('#invite_code').val()) !== '73f2c90480cb0f8e1345b0ef5a68c116'
        && MD5($('#invite_code').val()) !== 'e4381500239879814b42807108b584b9'
        && MD5($('#invite_code').val()) !== '62bbea2092cb4528ec48f13886aaf1e1'
        && MD5($('#invite_code').val()) !== '01b4bc2e1d1f6c7544daf26ba35b04c4'
        && MD5($('#invite_code').val()) !== '0f725351b7fa3c664ca6e89ed6d4c38d'
        && MD5($('#invite_code').val()) !== 'ebbd0ad288ef7ea145e6c9b7e6eb75a7'
        && MD5($('#invite_code').val()) !== 'c9eaa8635c11729c599d096ac5d7639a'
        && MD5($('#invite_code').val()) !== 'ff84386b474e0841890a856fac6b7a16'
        && MD5($('#invite_code').val()) !== 'c3145ea000840f97d4502495cb0ba45a'
        && MD5($('#invite_code').val()) !== 'fc1a6195311d21201560296690457c03'
        && MD5($('#invite_code').val()) !== 'bdd0b7b97835f97b8418a2212d1e1130'
        && MD5($('#invite_code').val()) !== '5f8cd15c14ade462f4c5ae8e15710b4a'
        && MD5($('#invite_code').val()) !== 'b0dcd872221e38142538c0425d520045'
        && MD5($('#invite_code').val()) !== '943ce38672cd8251649cdcbecb96a1d1'
        && MD5($('#invite_code').val()) !== '56719bfbcf8a306c076f93b08de1a48a'
        && MD5($('#invite_code').val()) !== '7bad472faa2790ae81dcfbc1dee4ce63'
        && MD5($('#invite_code').val()) !== 'f038bd5be0bfdef4da2b754ca7eafc12'
        && MD5($('#invite_code').val()) !== '837f5ac6ce9c561afa9479ecabcc0c16'
        && MD5($('#invite_code').val()) !== '5021ffa35936c32a0527ed25b3fc00ad'
        && MD5($('#invite_code').val()) !== '28789a166f018ae8bd24b1bca127e347'
        && MD5($('#invite_code').val()) !== '4f51fcd71f883fffc58144b50d7769ec'
        && MD5($('#invite_code').val()) !== 'bea28de6d39b23cd6f9838dfd64ef71c'
        && MD5($('#invite_code').val()) !== 'c2c94fbc61a9b54f343daeb0a3f33e7d'
        && MD5($('#invite_code').val()) !== 'f633bbfc12522677b060588e42c8e147'
        && MD5($('#invite_code').val()) !== '823b88af813025d70d421ce87ba61756'
        && MD5($('#invite_code').val()) !== '3a123a231c33a415f750e57e38401af5'
        && MD5($('#invite_code').val()) !== 'b58ca2ad010dd8fab079eddc1e60cd0e'
        && MD5($('#invite_code').val()) !== 'caa774678c1309c9fd331694ce2e21f2'
        && MD5($('#invite_code').val()) !== 'ab4c51ee0d5a1b57e9627c32b22a4898'
        && MD5($('#invite_code').val()) !== 'cd90b19ce8ca77b90f89084516008d5c'
        && MD5($('#invite_code').val()) !== '24d7a5e499a8a26d06479ddb1048bc3d'
        && MD5($('#invite_code').val()) !== 'dbeec860616d23efd416c098af6d3b4c'
        && MD5($('#invite_code').val()) !== '4077c182260f91e19eebf265e957c98f'
        && MD5($('#invite_code').val()) !== 'e064f1ffc0b3b65b1d4a651d32876f85'
        && MD5($('#invite_code').val()) !== '908695ed0d1a93357b80fd3a6508255f'
        && MD5($('#invite_code').val()) !== '55706240eb1023f0d25cc8b87b43ac7e'
        && MD5($('#invite_code').val()) !== '8b24d24121ff1edec8d549b0f6dec30a'
        && MD5($('#invite_code').val()) !== '25d18445a89d83a1df73a9d81499ecbb'
        && MD5($('#invite_code').val()) !== 'd4f1db629df1566793569dcc92b04782'
        && MD5($('#invite_code').val()) !== '608cead74bd9ebbe34fe051b02b1b80f'
        && MD5($('#invite_code').val()) !== '4073f2bcd397052ebd8b153aaaef2368'
        && MD5($('#invite_code').val()) !== 'd3c560a199ffc848c8d38d0b98c6482e'
        && MD5($('#invite_code').val()) !== 'dc0856e04128c30e294c22441b3c7fd5'
        && MD5($('#invite_code').val()) !== '02981ca2a8f3b4db41d6eb49193f207f'
        && MD5($('#invite_code').val()) !== '39827a7cd9a49bd01209ac04f5e598e9'
        && MD5($('#invite_code').val()) !== 'f21d4363d737aa0494d70b390cff554d'
        && MD5($('#invite_code').val()) !== 'dff60334d389356f4697c4ddac2f1a47'
        && MD5($('#invite_code').val()) !== 'c0f59798bda866d1969d96014aded109'
        && MD5($('#invite_code').val()) !== '3b612490a8ad8bad4f8d3c7e45333922') {
            $('#alert-wrapper').html(alert_markup('danger', '<strong>Sorry!</strong> Your invite code is incorrect.'));
        } else {
            $.post('https://script.google.com/macros/s/AKfycby9AdTUxw6dobjOlGLuzMjOZziRaR1wknzOSyw7EPTgj9cQt7p3ZhQxEscIJDYyeosoSQ/exec', data)
                .done(function (data) {
                    console.log(data);
                    if (data.result === "error") {
                        $('#alert-wrapper').html(alert_markup('danger', data.message));
                    } else {
                        $('#alert-wrapper').html('');
                        $('#rsvp-modal').modal('show');
                    }
                })
                .fail(function (data) {
                    console.log(data);
                    $('#alert-wrapper').html(alert_markup('danger', '<strong>Sorry!</strong> There is some issue with the server. '));
                });
        }
    });

});

/********************** Extras **********************/

// Google map
function initMap() {
    var location = {lat: 37.146953, lng: -121.97014};
    var map = new google.maps.Map(document.getElementById('map-canvas'), {
        zoom: 15,
        center: location,
        scrollwheel: false
    });

    var marker = new google.maps.Marker({
        position: location,
        map: map
    });
}

function initBBSRMap() {
    var la_fiesta = {lat: 37.146953, lng: -121.97014};
    var map = new google.maps.Map(document.getElementById('map-canvas'), {
        zoom: 15,
        center: la_fiesta,
        scrollwheel: false
    });

    var marker = new google.maps.Marker({
        position: la_fiesta,
        map: map
    });
}

// alert_markup
function alert_markup(alert_type, msg) {
    return '<div class="alert alert-' + alert_type + '" role="alert">' + msg + '<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span>&times;</span></button></div>';
}

// MD5 Encoding
var MD5 = function (string) {

    function RotateLeft(lValue, iShiftBits) {
        return (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));
    }

    function AddUnsigned(lX, lY) {
        var lX4, lY4, lX8, lY8, lResult;
        lX8 = (lX & 0x80000000);
        lY8 = (lY & 0x80000000);
        lX4 = (lX & 0x40000000);
        lY4 = (lY & 0x40000000);
        lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);
        if (lX4 & lY4) {
            return (lResult ^ 0x80000000 ^ lX8 ^ lY8);
        }
        if (lX4 | lY4) {
            if (lResult & 0x40000000) {
                return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);
            } else {
                return (lResult ^ 0x40000000 ^ lX8 ^ lY8);
            }
        } else {
            return (lResult ^ lX8 ^ lY8);
        }
    }

    function F(x, y, z) {
        return (x & y) | ((~x) & z);
    }

    function G(x, y, z) {
        return (x & z) | (y & (~z));
    }

    function H(x, y, z) {
        return (x ^ y ^ z);
    }

    function I(x, y, z) {
        return (y ^ (x | (~z)));
    }

    function FF(a, b, c, d, x, s, ac) {
        a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));
        return AddUnsigned(RotateLeft(a, s), b);
    };

    function GG(a, b, c, d, x, s, ac) {
        a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));
        return AddUnsigned(RotateLeft(a, s), b);
    };

    function HH(a, b, c, d, x, s, ac) {
        a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));
        return AddUnsigned(RotateLeft(a, s), b);
    };

    function II(a, b, c, d, x, s, ac) {
        a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));
        return AddUnsigned(RotateLeft(a, s), b);
    };

    function ConvertToWordArray(string) {
        var lWordCount;
        var lMessageLength = string.length;
        var lNumberOfWords_temp1 = lMessageLength + 8;
        var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;
        var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;
        var lWordArray = Array(lNumberOfWords - 1);
        var lBytePosition = 0;
        var lByteCount = 0;
        while (lByteCount < lMessageLength) {
            lWordCount = (lByteCount - (lByteCount % 4)) / 4;
            lBytePosition = (lByteCount % 4) * 8;
            lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));
            lByteCount++;
        }
        lWordCount = (lByteCount - (lByteCount % 4)) / 4;
        lBytePosition = (lByteCount % 4) * 8;
        lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);
        lWordArray[lNumberOfWords - 2] = lMessageLength << 3;
        lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;
        return lWordArray;
    };

    function WordToHex(lValue) {
        var WordToHexValue = "", WordToHexValue_temp = "", lByte, lCount;
        for (lCount = 0; lCount <= 3; lCount++) {
            lByte = (lValue >>> (lCount * 8)) & 255;
            WordToHexValue_temp = "0" + lByte.toString(16);
            WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);
        }
        return WordToHexValue;
    };

    function Utf8Encode(string) {
        string = string.replace(/\r\n/g, "\n");
        var utftext = "";

        for (var n = 0; n < string.length; n++) {

            var c = string.charCodeAt(n);

            if (c < 128) {
                utftext += String.fromCharCode(c);
            }
            else if ((c > 127) && (c < 2048)) {
                utftext += String.fromCharCode((c >> 6) | 192);
                utftext += String.fromCharCode((c & 63) | 128);
            }
            else {
                utftext += String.fromCharCode((c >> 12) | 224);
                utftext += String.fromCharCode(((c >> 6) & 63) | 128);
                utftext += String.fromCharCode((c & 63) | 128);
            }

        }

        return utftext;
    };

    var x = Array();
    var k, AA, BB, CC, DD, a, b, c, d;
    var S11 = 7, S12 = 12, S13 = 17, S14 = 22;
    var S21 = 5, S22 = 9, S23 = 14, S24 = 20;
    var S31 = 4, S32 = 11, S33 = 16, S34 = 23;
    var S41 = 6, S42 = 10, S43 = 15, S44 = 21;

    string = Utf8Encode(string);

    x = ConvertToWordArray(string);

    a = 0x67452301;
    b = 0xEFCDAB89;
    c = 0x98BADCFE;
    d = 0x10325476;

    for (k = 0; k < x.length; k += 16) {
        AA = a;
        BB = b;
        CC = c;
        DD = d;
        a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);
        d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);
        c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB);
        b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);
        a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);
        d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);
        c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613);
        b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);
        a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8);
        d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);
        c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);
        b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);
        a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122);
        d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);
        c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E);
        b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);
        a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);
        d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);
        c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);
        b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);
        a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);
        d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);
        c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);
        b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);
        a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);
        d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);
        c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);
        b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);
        a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);
        d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);
        c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);
        b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);
        a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);
        d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);
        c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);
        b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);
        a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);
        d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);
        c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);
        b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);
        a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);
        d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);
        c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);
        b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);
        a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);
        d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);
        c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);
        b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);
        a = II(a, b, c, d, x[k + 0], S41, 0xF4292244);
        d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);
        c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);
        b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);
        a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3);
        d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);
        c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);
        b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);
        a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);
        d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);
        c = II(c, d, a, b, x[k + 6], S43, 0xA3014314);
        b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);
        a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82);
        d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);
        c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);
        b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);
        a = AddUnsigned(a, AA);
        b = AddUnsigned(b, BB);
        c = AddUnsigned(c, CC);
        d = AddUnsigned(d, DD);
    }

    var temp = WordToHex(a) + WordToHex(b) + WordToHex(c) + WordToHex(d);

    return temp.toLowerCase();
};